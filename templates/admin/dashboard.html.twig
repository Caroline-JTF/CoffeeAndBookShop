{# ======================================== #}
{# ================ EXTENDS =============== #}
{# ======================================== #}

{% extends "base.html.twig" %}

{# ======================================== #}
{# ================== STYLE =============== #}
{# ======================================== #}

{% block stylesheets %}
    <link rel="stylesheet" href="/assets/css/admin/dashboard.css">
{% endblock %}

{# ======================================== #}
{# ================= TITLE ================ #}
{# ======================================== #}

{% block title %}Panneau de gestion{% endblock %}

{# ======================================== #}
{# ================= BODY ================= #}
{# ======================================== #}

{% block body %}

    {# ======================================== #}
    {# ================ FLASHES =============== #}
    {# ======================================== #}

    <div class="login-anim">
        {% for message in app.flashes('success') %}
            <div class="flash successFlash">{{message}}</div>
        {% endfor %}
        {% for message in app.flashes('error') %}
            <div class="flash errorFlash">{{message}}</div>
        {% endfor %}
    </div>
    

    {# ======================================== #}
    {# ================ HEADING =============== #}
    {# ======================================== #}

    <section class="heading">
        <p>What's happening here?</p>
        <h2>Votre panneau de gestion</h2>
        <p>Gérer votre Coffee and Book ici</p>
    </section>
    
    {# ======================================== #}
    {# ================= BUTTON =============== #}
    {# ======================================== #}

    
    <section class="command-btn">

        <button class="btn1">Cafés</button>
        <button class="btn2">Viennoiseries</button>
        <button class="btn3">Livres</button>
        <button class="btn4">Évènements</button>
        <button class="btn5">Utilisateurs</button>

    </section>

    {# ================================================================================== #}
    {# ================== SECTION : LIST COFFEE, FOOD, BOOK, USER, EVENT ================= #}
    {# ================================================================================== #}

    <section class="container-box">

        {# ======================================== #}
        {# ================ COFFEE ================ #}
        {# ======================================== #}

        <section id="coffee" class="box1 box active">

            <section class="heading">
                <h2>Liste des cafés</h2>
                <a href="#addCoffee"> Ajouter un café?</a>
            </section>

            <table>

                 <thead>
                    <tr>
                        <th>Identifiant</th>
                        <th>Photo</th>
                        <th>Café</th>
                        <th>Description</th>
                        <th>Prix</th>
                        <th>Actions</th>
                    </tr>
                </thead>

                <tbody>
                    {% for coffee in coffees %}
                        <tr>
                            <td>{{ coffee.id}}</td>
                            <td>
                                <img width="100px" height="100px" src="{{ asset('/uploads/' ~ coffee.img) }}" alt="{{ coffee.name }}" onerror="this.style.display='none';"/>
                            </td>
                            <td>{{ coffee.name}}</td>
                            <td style="width:50%;">{{ coffee.description}}</td>
                            <td>{{ coffee.price}}€</td>
                            <td>

                                <div class="actions">

                                    {# MODIFIER #}
                                    <a href="{{ path('app_admin_update_coffee', {'id': coffee.id}) }}">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#7bc62d" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
                                            <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
                                        </svg>
                                    </a> 

                                    <p style="margin: 0 1rem"> | </p>

                                    {# SUPPRIMER #}
                                    <a href="{{ path('app_admin_delete_coffee', {'id': coffee.id}) }}">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff2825" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <line x1="4" y1="7" x2="20" y2="7" />
                                            <line x1="10" y1="11" x2="10" y2="17" />
                                            <line x1="14" y1="11" x2="14" y2="17" />
                                            <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
                                            <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
                                        </svg>
                                    </a>
                                </div> 

                            </td>
                        </tr>
                        {% else %}
                                <tr>
                                    <td colspan="6" style="text-align:center;">Pas de boisson pour le moment</td>
                                </tr> 
                    {% endfor %}
                </tbody>

            </table>

            <button id="addCoffee" class="btn-center">
                <a href="{{ path('app_admin_add_coffee') }}">
                    <img src="/assets/img/icons/beans-btn.png" alt="">
                    Ajouter un café ?
                </a>
            </button>

        </section> {# END SECTION COFFEE #}

        {# ======================================== #}
        {# ================== FOOD ================ #}
        {# ======================================== #}

        <section class="box2 box">

            <section class="heading">
                <h2>Liste des viennoiseries</h2>
                <a href="#addFood"> Ajouter une viennoiserie?</a>
            </section>

            <table>

                 <thead>
                    <tr>
                        <th>Identifiant</th>
                        <th>Photo</th>
                        <th>Viennoiserie</th>
                        <th>Description</th>
                        <th>Prix</th>
                        <th>Actions</th>
                    </tr>
                </thead>

                <tbody>
                    {% for food in foods %}
                        <tr>
                            <td>{{ food.id}}</td>
                            <td>
                                <img width="100px" height="100px" src="{{ asset('/uploads/' ~ food.img) }}" alt="{{ food.name }}" onerror="this.style.display='none';" />
                            </td>
                            <td>{{ food.name}}</td>
                            <td style="width:50%;">{{ food.description}}</td>
                            <td>{{ food.price}}€</td>
                            <td>

                                <div  class="actions">
                                    
                                    {# MODIFIER #}
                                    <a href="{{ path('app_admin_update_food', {'id': food.id}) }}">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#7bc62d" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
                                            <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
                                        </svg>
                                    </a> 

                                    <p style="margin: 0 1rem"> | </p>

                                    {# SUPPRIMER #}
                                    <a href="{{ path('app_admin_delete_food', {'id': food.id}) }}">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff2825" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <line x1="4" y1="7" x2="20" y2="7" />
                                            <line x1="10" y1="11" x2="10" y2="17" />
                                            <line x1="14" y1="11" x2="14" y2="17" />
                                            <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
                                            <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
                                        </svg>
                                    </a>
                                </div>

                            </td>
                        </tr>    
                        {% else %}
                                <tr>
                                    <td colspan="6" style="text-align:center;">Pas de viennoiserie pour le moment</td>
                                </tr> 
                    {% endfor %}
                </tbody>

            </table>

            <button id="addFood" class="btn-center">
                <a href="{{ path('app_admin_add_food') }}">
                    <img src="/assets/img/icons/beans-btn.png" alt="">
                    Ajouter une viennoiserie ?
                </a>
            </button>

        </section> {# END SECTION FOOD #}

        {# ======================================== #}
        {# ================== BOOK ================ #}
        {# ======================================== #}

        <section class="box3 box">

            <section class="heading">
                <h2>Liste des livres</h2>
                <a href="#addBook"> Ajouter un livre?</a>
            </section>

            <table>
                 <thead>
                    <tr>
                        <th>Identifiant</th>
                        <th>Photo</th>
                        <th>Livre</th>
                        <th>Description</th>
                        <th>Prix</th>
                        <th>Actions</th>
                    </tr>
                </thead>

                <tbody>
                    {% for book in books %}
                        <tr>
                            <td>{{ book.id}}</td>
                            <td>
                                <img width="100px" height="150px" src="{{ asset('/uploads/' ~ book.img) }}" alt="{{ book.name }}" onerror="this.style.display='none';" />
                            </td>
                            <td>{{ book.name}}</td>
                            <td style="width:50%;">{{ book.description}}</td>
                            <td>{{ book.price}}€</td>
                            <td>

                                <div  class="actions">
                                    
                                    {# MODIFIER #}
                                    <a href="{{ path('app_admin_update_book', {'id': book.id}) }}">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#7bc62d" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
                                            <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
                                        </svg>
                                    </a> 

                                    <p style="margin: 0 1rem"> | </p>

                                    {# SUPPRIMER #}
                                    <a href="{{ path('app_admin_delete_book', {'id': book.id}) }}">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff2825" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <line x1="4" y1="7" x2="20" y2="7" />
                                            <line x1="10" y1="11" x2="10" y2="17" />
                                            <line x1="14" y1="11" x2="14" y2="17" />
                                            <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
                                            <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
                                        </svg>
                                    </a>
                                </div>

                            </td>
                        </tr>
                        {% else %}
                                <tr>
                                    <td colspan="6" style="text-align:center;">Pas de livre pour le moment</td>
                                </tr>    
                    {% endfor %}
                </tbody>

            </table>

            <button id="addBook" class="btn-center">
                <a href="{{ path('app_admin_add_book') }}" >
                    <img src="/assets/img/icons/beans-btn.png" alt="">
                    Ajouter un livre ?
                </a>
            </button>

        </section>{# END CONTAINER BOOK #}

        {# ======================================== #}
        {# ================= EVENT ================ #}
        {# ======================================== #}

        <section class="box4 box">

            <section class="heading">
                <h2>Liste des évènements</h2>
                <a href="#addBook"> Ajouter un évènement?</a>
            </section>

            <table>
                 <thead>
                    <tr>
                        <th>Identifiant</th>
                        <th>Photo</th>
                        <th>Nom</th>
                        <th>Description</th>
                        <th>Type</th>
                        <th>Date</th>
                        <th>Participants</th>
                        <th>Places disponibles</th>
                        <th>Actions</th>
                    </tr>
                </thead>

                <tbody>
                    {% for event in events %}
                        <tr>
                            <td>{{ event.id}}</td>
                            <td>
                                <img width="100px" height="150px" src="{{ asset('/uploads/' ~ event.img) }}" alt="{{ event.name }}" onerror="this.style.display='none';"/>
                            </td>
                            <td>{{ event.name}}</td>
                            <td style="width:50%;">{{ event.description}}</td>
                            <td>{{ event.type}}</td>
                            <td>{{ event.date | date('d/m/Y') }}</td>
                            <td>{{ event.participants}}</td>
                            <td>{{ event.place}}</td>
                            <td>

                                <div  class="actions">
                                    
                                    {# MODIFIER #}
                                    <a href="{{ path('app_admin_update_event', {'id': event.id}) }}">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#7bc62d" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
                                            <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
                                        </svg>
                                    </a> 

                                    <p style="margin: 0 1rem"> | </p>

                                    {# SUPPRIMER #}
                                    <a href="{{ path('app_admin_delete_event', {'id': event.id}) }}">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff2825" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <line x1="4" y1="7" x2="20" y2="7" />
                                            <line x1="10" y1="11" x2="10" y2="17" />
                                            <line x1="14" y1="11" x2="14" y2="17" />
                                            <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
                                            <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
                                        </svg>
                                    </a>
                                </div>

                            </td>
                        </tr>
                        {% else %}
                                <tr>
                                    <td colspan="6" style="text-align:center;">Pas d'évènement pour le moment</td>
                                </tr>    
                    {% endfor %}
                </tbody>

            </table>

            <button id="addEvent" class="btn-center">
                <a href="{{ path('app_admin_add_event') }}" >
                    <img src="/assets/img/icons/beans-btn.png" alt="">
                    Ajouter un évènement ?
                </a>
            </button>

        </section> {# END SECTION BOOK #}

        {# ======================================== #}
        {# ================== USER ================ #}
        {# ======================================== #}

        <section class="box5 box">
            
            <section class="heading">
                <h2>Liste des utilisateurs</h2>
                <p></p>
            </section>

            <table>

                 <thead>
                    <tr>
                        <th>Identifiant</th>
                        <th>NOM</th>
                        <th>Prénom</th>
                        <th>Email</th>
                        <th>N° de téléphone</th>
                        <th>Actions</th>
                    </tr>
                </thead>

                <tbody>
                    {% for user in users %}
                        <tr>
                            <td>{{ user.id}}</td>
                            <td>{{ user.lastname}}</td>
                            <td>{{ user.firstname}}</td>
                            <td>{{ user.email}}</td>
                            <td>{{ user.phoneNumber}}</td>
                            <td>

                                <div  class="actions">

                                    {# MODIFIER #}
                                    <a href="{{ path('app_admin_update_user', {'id': user.id}) }}" title="Modifier l'utilisateur">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-pencil" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#7bc62d" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
                                            <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
                                        </svg>
                                    </a> 

                                    <p style="margin: 0 1rem"> | </p>

                                    {# SUPPRIMER #}
                                    <a href="{{ path('app_admin_delete_user', {'id': user.id}) }}" title="Supprimez l'utilisateur">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="25" height="25" viewBox="0 0 24 24" stroke-width="1.5" stroke="#ff2825" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <line x1="4" y1="7" x2="20" y2="7" />
                                            <line x1="10" y1="11" x2="10" y2="17" />
                                            <line x1="14" y1="11" x2="14" y2="17" />
                                            <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
                                            <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
                                        </svg>
                                    </a>
                                </div> 
                
                            </td>
                        </tr>    
                    {% endfor %}
                </tbody>
                
            </table>

        </section> {# END SECTION USER #}
    
    </section>{# END CONTAINER BOX #}


{% endblock %}

{% block javascripts %}
    <script src="assets/js/admin/dashboard.js"></script>
{% endblock %}
                            